# –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ä–µ–∂–∏–º—ñ–≤ –∑–∞—Ä—è–¥–∫–∏ EB3A

## –ü—Ä–æ–±–ª–µ–º–∞
ECO —Ä–µ–∂–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–º–∏–∫–∞–≤—Å—è, –∞ —Ä–µ–∂–∏–º TURBO –∑–Ω–∏–∂—É–≤–∞–≤ –∑–∞—Ä—è–¥–∫—É –¥–æ 27W –∑–∞–º—ñ—Å—Ç—å –∑–±—ñ–ª—å—à–µ–Ω–Ω—è.

## –ü—Ä–∏—á–∏–Ω–∞
1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤/–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π** - –∫–æ–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –æ–ø–∏—Ç—É–≤–∞–ª–∞ —Ä—ñ–∑–Ω—ñ —Ä–µ–≥—ñ—Å—Ç—Ä–∏ (ECO Mode, LED Mode, ECO Shutdown, Charging Mode), –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ –Ω–µ –≤ —Ç–æ–º—É –ø–æ—Ä—è–¥–∫—É, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏–ª–æ –¥–æ –ø–ª—É—Ç–∞–Ω–∏–Ω–∏
2. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∑–∞—Ç—Ä–∏–º–æ–∫** –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤
3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—è** –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –û–Ω–æ–≤–ª–µ–Ω—ñ —Ä–µ–∂–∏–º–∏ –∑–∞—Ä—è–¥–∫–∏ (–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ –∑ bluetti_mqtt)
```cpp
// Register 0x0BF9 (3065 decimal)
0 = STANDARD (max 268W)  ‚úÖ
1 = SILENT (low ~100W)   ‚úÖ
2 = TURBO (max 350W)     ‚úÖ
```

### 2. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
- –î–æ–¥–∞–Ω–æ `lastSingleRegisterRequested` –ø—Ä–∏ –∑–∞–ø–∏—Å—ñ —Ä–µ–∂–∏–º—É –∑–∞—Ä—è–¥–∫–∏
- –î–æ–¥–∞–Ω–æ –∑–∞—Ç—Ä–∏–º–∫–∏ 100ms –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏ —Ä—ñ–∑–Ω–∏—Ö —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤
- –î–æ–¥–∞–Ω–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å –∑ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è–º–∏

### 3. –†–æ–∑—à–∏—Ä–µ–Ω–æ pollFeatureState
–¢–µ–ø–µ—Ä –æ–ø–∏—Ç—É—î 5 —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ –∑–∞–º—ñ—Å—Ç—å 4:
- 0x0BF7 - ECO Mode (3063)
- 0x0BFA - Power Lifting (3066)  
- 0x0BDA - LED Mode (3034)
- 0x0BF8 - ECO Shutdown (3064)
- 0x0BF9 - **Charging Mode (3065)** ‚¨ÖÔ∏è –î–û–î–ê–ù–û

### 4. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
```cpp
[Bluetti] üîã Charging mode: TURBO (value=2)
[Bluetti] üåø ECO mode: OFF (reg=0x0BF7, value=0)
[Bluetti] ‚è∞ ECO shutdown: 4h (reg=0x0BF8, value=4)
```

## –†–µ–≥—ñ—Å—Ç—Ä–∏ EB3A (MODBUS over BLE)

| –†–µ–≥—ñ—Å—Ç—Ä | –ó–Ω–∞—á–µ–Ω–Ω—è | –û–ø–∏—Å |
|---------|----------|------|
| 0x0BF7 (3063) | 0/1 | ECO Mode (OFF/ON) |
| 0x0BF8 (3064) | 1-4 | ECO Shutdown (1-4 –≥–æ–¥–∏–Ω–∏) |
| 0x0BF9 (3065) | 0-2 | Charging Mode (STANDARD/SILENT/TURBO) |
| 0x0BDA (3034) | 1-4 | LED Mode (LOW/HIGH/SOS/OFF) |
| 0x0BFA (3066) | 0/1 | Power Lifting (OFF/ON) |

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ä–µ–∂–∏–º TURBO
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –∑–∞—Ä—è–¥–∫–∏ –∑—Ä–æ—Å—Ç–∞—î –¥–æ ~350W (–º–∞–∫—Å)
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ ECO mode –Ω–µ –≤–º–∏–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤

## –î–∂–µ—Ä–µ–ª–∞
- https://github.com/warhammerkid/bluetti_mqtt
- `/bluetti_mqtt/core/devices/eb3a.py`
