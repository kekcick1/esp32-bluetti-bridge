[env:lilygo-t-display]
platform = espressif32
board = esp32dev
framework = arduino

; Upload settings - ВАЖЛИВО!
; Для ESP32 T-Display з CH9102F USB-UART чипом
; CH9102F - заміна CP2102/CH340, підтримує швидкість до 115200
upload_speed = 115200
monitor_speed = 115200
board_build.flash_mode = dout
board_build.f_flash = 40000000L
; Для CH9102F потрібен ручний режим завантаження
; CH9102F не підтримує автоматичний reset через DTR/RTS
upload_resetmethod = no_reset
; Використовуйте ручний режим: утримуйте BOOT під час "Connecting..."
; Стандартна партиція
; board_build.partitions = custom_ota_16mb.csv

; Build flags for TTGO T-еглDisplay ESP32
build_flags = 
    -Os  ; Optimize for size
    -D CORE_DEBUG_LEVEL=3
    ; Power Save - WiFi disconnected sleep mode
    -D CONFIG_ESP_WIFI_STA_DISCONNECTED_PM_ENABLE=1
    ; WiFi power management coexistence with BLE
    -D CONFIG_ESP_COEX_SW_COEXIST_ENABLE=1
    ; Display settings
    -D USER_SETUP_LOADED=1
    -D ST7789_DRIVER=1
    -D TFT_WIDTH=135
    -D TFT_HEIGHT=240
    -D TFT_MISO=-1
    -D TFT_MOSI=19
    -D TFT_SCLK=18
    -D TFT_CS=5
    -D TFT_DC=16
    -D TFT_RST=23
    -D TFT_BL=4
    -D TFT_RGB_ORDER=TFT_RGB
    -D TOUCH_CS=-1
    -D LOAD_GLCD=1
    -D LOAD_FONT2=1
    -D LOAD_FONT4=1
    -D LOAD_FONT6=1
    -D LOAD_FONT7=1
    -D LOAD_FONT8=1
    -D LOAD_GFXFF=1
    -D SMOOTH_FONT=1

; Libraries
lib_deps = 
    bodmer/TFT_eSPI@^2.5.43
    knolleary/PubSubClient@^2.8
    bblanchon/ArduinoJson@^7.0.4
    h2zero/NimBLE-Arduino@^1.4.1
    ArduinoOTA@^1.0
    me-no-dev/ESPAsyncWebServer@^3.0.0
    me-no-dev/AsyncTCP@^1.1.1
