# Release Notes v1.2.1

## üêõ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º

### Charging Mode Fix
–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–µ—Ä–π–æ–∑–Ω—É –ø—Ä–æ–±–ª–µ–º—É –∑ —Ä–µ–∂–∏–º–∞–º–∏ –∑–∞—Ä—è–¥–∫–∏:

**–°–∏–º–ø—Ç–æ–º–∏:**
- ECO —Ä–µ–∂–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–º–∏–∫–∞–≤—Å—è –±–µ–∑ –¥—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –†–µ–∂–∏–º TURBO –∑–Ω–∏–∂—É–≤–∞–≤ –∑–∞—Ä—è–¥–∫—É –¥–æ 27W –∑–∞–º—ñ—Å—Ç—å –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –¥–æ 350W
- –ü–ª—É—Ç–∞–Ω–∏–Ω–∞ –º—ñ–∂ —Ä–µ–≥—ñ—Å—Ç—Ä–∞–º–∏ –ø—Ä–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—ñ

**–ü—Ä–∏—á–∏–Ω–∞:**
–ö–æ–ª–∏ ESP32 —à–≤–∏–¥–∫–æ –æ–ø–∏—Ç—É–≤–∞–≤ —Ä—ñ–∑–Ω—ñ —Ä–µ–≥—ñ—Å—Ç—Ä–∏ (ECO Mode, LED Mode, ECO Shutdown, Charging Mode), Bluetti –≤—ñ–¥–ø—Ä–∞–≤–ª—è–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–µ –≤ —Ç–æ–º—É –ø–æ—Ä—è–¥–∫—É. –ó–Ω–∞—á–µ–Ω–Ω—è –∑ –æ–¥–Ω–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä–∞ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É–≤–∞–ª–∏—Å—è —è–∫ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω—à–æ–≥–æ.

**–†—ñ—à–µ–Ω–Ω—è:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –∑–∞—Ç—Ä–∏–º–∫–∏ 100ms –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤
- ‚úÖ –î–æ–¥–∞–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é `lastSingleRegisterRequested`
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∑ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è–º–∏ –ø—Ä–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è
- ‚úÖ –î–æ–¥–∞–Ω–æ Charging Mode –¥–æ —Ä–æ—Ç–∞—Ü—ñ—ó –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è

### –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ —Ä–µ–∂–∏–º–∏ –∑–∞—Ä—è–¥–∫–∏

–ó–Ω–∞—á–µ–Ω–Ω—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é [bluetti_mqtt](https://github.com/warhammerkid/bluetti_mqtt):

| –†–µ–∂–∏–º | –ö–æ–¥ | –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å |
|-------|-----|------------|
| STANDARD | 0 | max 268W |
| SILENT | 1 | ~100W |
| TURBO | 2 | max 350W |

## üìù –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ó–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏
- `src/bluetti_device.cpp` - –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é, –¥–æ–¥–∞–Ω–æ –∑–∞—Ç—Ä–∏–º–∫–∏
- `src/web_server.cpp` - –æ–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞–∑–≤–∏ —Ä–µ–∂–∏–º—ñ–≤ –≤ UI
- `CHANGELOG.md` - –¥–æ–¥–∞–Ω–æ –∑–∞–ø–∏—Å –ø—Ä–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
- `CHARGING_MODE_DEBUG.md` - –Ω–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (–¥–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø—Ä–æ–±–ª–µ–º–∏)

### –ü–æ–ª—ñ–ø—à–µ–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–¢–µ–ø–µ—Ä –ª–æ–≥–∏ –ø–æ–∫–∞–∑—É—é—Ç—å –±—ñ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π:
```
[Bluetti] üîã Charging mode: TURBO (value=2)
[Bluetti] üåø ECO mode: OFF (reg=0x0BF7, value=0)
[Bluetti] ‚è∞ ECO shutdown: 4h (reg=0x0BF8, value=4)
```

## üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è

- GitHub: https://github.com/kekcick1/esp32-bluetti-bridge
- Commit: a68d9f2
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: [CHARGING_MODE_DEBUG.md](CHARGING_MODE_DEBUG.md)

## ‚¨ÜÔ∏è –û–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
cd ~/Documents/esp32
git pull
pio run -t upload
```

–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ OTA —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://[ESP32_IP]/update
