# Changelog

–í—Å—ñ –≤–∞–∂–ª–∏–≤—ñ –∑–º—ñ–Ω–∏ –≤ –ø—Ä–æ–µ–∫—Ç—ñ –¥–æ–∫—É–º–µ–Ω—Ç—É—é—Ç—å—Å—è –≤ —Ü—å–æ–º—É —Ñ–∞–π–ª—ñ.

---

## [1.2.4] - 2025-12-10

### ‚ú® –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

#### Dropdown –¥–ª—è –≤–∏–±–æ—Ä—É —Ä–µ–∂–∏–º—É –∑–∞—Ä—è–¥–∫–∏
- **–ë—É–ª–æ**: –ö–Ω–æ–ø–∫–∞ —â–æ –ø–µ—Ä–µ–º–∏–∫–∞—î —Ä–µ–∂–∏–º–∏ –ø–æ –∫–æ–ª—É (STANDARD ‚Üí SILENT ‚Üí TURBO ‚Üí ...)
- **–°—Ç–∞–ª–æ**: Select dropdown –∑ –ø—Ä—è–º–∏–º –≤–∏–±–æ—Ä–æ–º –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É
- **–ü–µ—Ä–µ–≤–∞–≥–∏**:
  - ‚úÖ –ü—Ä—è–º–∏–π –≤–∏–±—ñ—Ä –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É –±–µ–∑ –∫—ñ–ª—å–∫–æ—Ö –∫–ª—ñ–∫—ñ–≤
  - ‚úÖ –í–∏–¥–Ω–æ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ä–µ–∂–∏–º–∏ –æ–¥—Ä–∞–∑—É
  - ‚úÖ –ó—Ä–æ–∑—É–º—ñ–ª–æ —è–∫–∏–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–Ω–∏–π (–ø—ñ–¥—Å–≤—ñ—á–µ–Ω–æ)
  - ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π HTML –µ–ª–µ–º–µ–Ω—Ç - –ø—Ä–∞—Ü—é—î –Ω–∞ –≤—Å—ñ—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö

#### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:
- –ó–∞–º—ñ–Ω–µ–Ω–æ `<button>` –Ω–∞ `<select>` –µ–ª–µ–º–µ–Ω—Ç
- –î–æ–¥–∞–Ω–æ CSS —Å—Ç–∏–ª—å `.sel` –¥–ª—è dropdown
- –û–±—Ä–æ–±–Ω–∏–∫ `onclick` ‚Üí `onchange`
- API endpoint `/charging_speed` –±–µ–∑ –∑–º—ñ–Ω (backwards compatible)
- –†–æ–∑–º—ñ—Ä –ø—Ä–æ—à–∏–≤–∫–∏: +176 bytes (+0.01%)

---

## [1.2.3] - 2025-12-10 ‚úÖ TESTED

### üîß –ö–†–ò–¢–ò–ß–ù–ï –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

#### Future-based Response Synchronization (–Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è –≤—ñ–¥ bluetti_mqtt) ‚úÖ –ü–†–ê–¶–Æ–Ñ

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ**: 10 –≥—Ä—É–¥–Ω—è 2025, Bluetti EB3A (D1:4C:11:6B:6A:3D)

- **–ü—Ä–æ–±–ª–µ–º–∞**: –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ Bluetti –í–°–ï –©–ï –ø–ª—É—Ç–∞–ª–∏—Å—è –ø—ñ—Å–ª—è –≤—Å—ñ—Ö –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å
  - Charging Mode response (value=0) –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è –¥–ª—è Power Lifting –∑–∞–ø–∏—Ç—É
  - ESP32 –Ω–∞–¥—Å–∏–ª–∞–≤ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –î–û –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—é
  - –ó–∞—Ç—Ä–∏–º–∫–∏ (delay) –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏
  
- **–ê–Ω–∞–ª—ñ–∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ bluetti_mqtt**:
  ```python
  # bluetti_mqtt –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Future-based –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É:
  1. –ö–æ–º–∞–Ω–¥–∞ + Future –¥–æ–¥–∞—é—Ç—å—Å—è –≤ —á–µ—Ä–≥—É
  2. Future –≤–∏—Ä—ñ—à—É—î—Ç—å—Å—è –¢–Ü–õ–¨–ö–ò –ø—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
  3. Notification handler –Ü–ì–ù–û–†–£–Ñ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
  4. –ù–∞—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –ù–ï –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó
  ```

- **–†—ñ—à–µ–Ω–Ω—è v4** (Future-based —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è):
  - ‚úÖ –î–æ–¥–∞–Ω–æ **—Ñ–ª–∞–≥ `waitingForResponse`** - –±–ª–æ–∫—É—î –Ω–æ–≤—ñ –∑–∞–ø–∏—Ç–∏
  - ‚úÖ –î–æ–¥–∞–Ω–æ **`requestStartTime`** - –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —á–∞—Å—É –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è
  - ‚úÖ `requestRegister()` —Ç–µ–ø–µ—Ä:
    - –ü–µ—Ä–µ–≤—ñ—Ä—è—î `waitingForResponse` –ø–µ—Ä–µ–¥ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è–º
    - –ë–ª–æ–∫—É—î –Ω–æ–≤—ñ –∑–∞–ø–∏—Ç–∏ —è–∫—â–æ –æ—á—ñ–∫—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
    - –¢–∞–π–º–∞—É—Ç 3 —Å–µ–∫—É–Ω–¥–∏ - —è–∫—â–æ –Ω–µ–º–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, —Å–∫–∏–¥–∞—î —Ñ–ª–∞–≥
    - –í—Å—Ç–∞–Ω–æ–≤–ª—é—î `waitingForResponse = true` –ø—ñ—Å–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è
  - ‚úÖ `handleNotification()` —Ç–µ–ø–µ—Ä:
    - –Ü–≥–Ω–æ—Ä—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∫–æ–ª–∏ `waitingForResponse == false`
    - –Ü–≥–Ω–æ—Ä—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∫–æ–ª–∏ `lastSingleRegisterRequested == 0`
    - –°–∫–∏–¥–∞—î `waitingForResponse = false` –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏
    - –í–∏–≤–æ–¥–∏—Ç—å —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
  - ‚úÖ –í–∏–¥–∞–ª–µ–Ω–æ `delay(500)` –∑ `requestRegister()` - –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ
  - ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —Ç–µ–ø–µ—Ä –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥—è—Ö, –∞ –Ω–µ –Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞—Ö

#### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è ‚úÖ
- **Charging Mode**: SILENT/STANDARD/TURBO - –≤—Å—ñ —Ä–µ–∂–∏–º–∏ –ø—Ä–∞—Ü—é—é—Ç—å (138-156ms)
- **ECO Mode**: ON/OFF - –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ, –Ω–µ —É–≤—ñ–º–∫–Ω—É—î—Ç—å—Å—è —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ (153ms)
- **Power Lifting**: OFF - –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ (138ms)
- **LED Mode**: OFF - –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ (131ms)
- **–ë–ª–æ–∫—É–≤–∞–Ω–Ω—è**: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ - –Ω–æ–≤—ñ –∑–∞–ø–∏—Ç–∏ –±–ª–æ–∫—É—é—Ç—å—Å—è –¥–æ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- **–¢–∞–π–º–∞—É—Ç**: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ - —Å–∏—Å—Ç–µ–º–∞ —Å–∫–∏–¥–∞—î —Ñ–ª–∞–≥ –ø—ñ—Å–ª—è 3 —Å–µ–∫—É–Ω–¥ –±–µ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

#### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ **event-driven** –º–æ–¥–µ–ª—ñ (—è–∫ bluetti_mqtt)
- –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è **–∞—Ç–æ–º–∞—Ä–Ω–æ** –±–µ–∑ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–µ—Ä–µ–ø–ª—É—Ç—É–≤–∞–Ω–Ω—è
- –¢–∞–π–º–∞—É—Ç –∑–∞—Ö–∏—â–∞—î –≤—ñ–¥ "–∑–∞–≤–∏—Å–∞–Ω–Ω—è" –ø—Ä–∏ –≤—Ç—Ä–∞—Ç—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

---

## [1.2.2] - 2025-12-10

### üêõ –ö–†–ò–¢–ò–ß–ù–ï –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø (–ß–ê–°–¢–ö–û–í–û - –ø–æ—Ç—Ä—ñ–±–Ω–æ 1.2.3)

#### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ (Register Response Sync Fix) - –ü–û–í–ù–ï –†–Ü–®–ï–ù–ù–Ø v3
- **–ü—Ä–æ–±–ª–µ–º–∞**: –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ —Ä—ñ–∑–Ω–∏—Ö —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ –ø–ª—É—Ç–∞–ª–∏—Å—è –º—ñ–∂ —Å–æ–±–æ—é
  - ECO mode —É–≤—ñ–º–∫–Ω—É–≤–∞–≤—Å—è —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ –±–µ–∑ –∫–æ–º–∞–Ω–¥–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
  - –†–µ–∂–∏–º TURBO/SILENT/STANDARD –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –Ω–µ–≤—ñ—Ä–Ω–æ
  - –í—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ –æ–¥–Ω–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä–∞ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É–≤–∞–ª–∞—Å—è –¥–ª—è —ñ–Ω—à–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä–∞
- **–ü—Ä–∏—á–∏–Ω–∞**: 
  - –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—ñ –∑–∞—Ç—Ä–∏–º–∫–∏ –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏ (100-300ms –∑–∞–º–∞–ª–æ)
  - –§—É–Ω–∫—Ü—ñ—è `requestChargingMode()` –ù–ï –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞–ª–∞ `lastSingleRegisterRequested`
  - `delay()` –≤–∏–∫–æ–Ω—É–≤–∞–≤—Å—è –î–û –æ–±—Ä–æ–±–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ `requestStatus()`
  - Bluetti –Ω–∞–¥—Å–∏–ª–∞–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —à–≤–∏–¥—à–µ, –Ω—ñ–∂ ESP32 –≤—Å—Ç–∏–≥–∞–≤ —ó—Ö –æ–±—Ä–æ–±–∏—Ç–∏
- **–†—ñ—à–µ–Ω–Ω—è v3** (–æ—Å—Ç–∞—Ç–æ—á–Ω–µ):
  - ‚úÖ –ó–±—ñ–ª—å—à–µ–Ω–æ –∑–∞—Ç—Ä–∏–º–∫–∏ –∑ 100ms –¥–æ 500ms –≤ `requestRegister()`
  - ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ `delay(1000)` –≤ **–ö–Ü–ù–ï–¶–¨** `requestStatus()` –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
  - ‚úÖ **–í–ò–î–ê–õ–ï–ù–û —Ñ—É–Ω–∫—Ü—ñ—é `requestChargingMode()`** - –∑–∞–º—ñ–Ω–µ–Ω–æ –Ω–∞ `requestRegister(0x0BF9)`
  - ‚úÖ –î–æ–¥–∞–Ω–æ –æ—á–∏—â–µ–Ω–Ω—è `lastSingleRegisterRequested = 0` –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
  - ‚úÖ –î–æ–¥–∞–Ω–æ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤
  - ‚úÖ –í—Å—ñ –∑–∞–ø–∏—Ç–∏ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ —Ç–µ–ø–µ—Ä –ø—Ä–æ—Ö–æ–¥—è—Ç—å —á–µ—Ä–µ–∑ —î–¥–∏–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é `requestRegister()`

#### –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ —Ä–µ–∂–∏–º–∏ –∑–∞—Ä—è–¥–∫–∏ (bluetti_mqtt)
- `0 = STANDARD` (max 268W) ‚úÖ
- `1 = SILENT` (low ~100W) ‚úÖ
- `2 = TURBO` (max 350W) ‚úÖ

---

## [1.2.1] - 2025-12-09

### üêõ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

#### Charging Mode Fix (–ß–ê–°–¢–ö–û–í–û - –ø–æ—Ç—Ä—ñ–±–Ω–æ 1.2.2)
- **–ü—Ä–æ–±–ª–µ–º–∞**: ECO —Ä–µ–∂–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–º–∏–∫–∞–≤—Å—è, —Ä–µ–∂–∏–º TURBO –∑–Ω–∏–∂—É–≤–∞–≤ –∑–∞—Ä—è–¥–∫—É –¥–æ 27W
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤/–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –º—ñ–∂ —Ä–µ–≥—ñ—Å—Ç—Ä–∞–º–∏
- **–†—ñ—à–µ–Ω–Ω—è**: 
  - –î–æ–¥–∞–Ω–æ –∑–∞—Ç—Ä–∏–º–∫–∏ 100ms –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ (–ù–ï–î–û–°–¢–ê–¢–ù–¨–û - –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ 1.2.2)
  - –î–æ–¥–∞–Ω–æ `lastSingleRegisterRequested` –ø—Ä–∏ –∑–∞–ø–∏—Å—ñ —Ä–µ–∂–∏–º—É –∑–∞—Ä—è–¥–∫–∏
  - –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å
  - –î–æ–¥–∞–Ω–æ Charging Mode (0x0BF9) –¥–æ —Ä–æ—Ç–∞—Ü—ñ—ó –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- –°—Ç–≤–æ—Ä–µ–Ω–æ [CHARGING_MODE_DEBUG.md](CHARGING_MODE_DEBUG.md) –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –æ–ø–∏—Å–æ–º –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è

---

## [1.2.0] - 2025-12-08

### ‚ú® –î–æ–¥–∞–Ω–æ 5 –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π Bluetti

–ü–æ—Ä—Ç–æ–≤–∞–Ω–æ –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –∑ [tjhowse/esphome_bluetti_eb3a](https://github.com/tjhowse/esphome_bluetti_eb3a)

#### –ù–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- üåø **ECO Mode** (0x0BC3) - –µ–∫–æ–Ω–æ–º–Ω–∏–π —Ä–µ–∂–∏–º –∞–≤—Ç–æ–≤–∏–º–∫–Ω–µ–Ω–Ω—è –ø—Ä–∏ –Ω–∏–∑—å–∫–æ–º—É –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
- ‚ö° **Power Lifting** (0x0BC6) - –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –¥–æ 600W –¥–ª—è —ñ–Ω–¥—É–∫—Ç–∏–≤–Ω–∏—Ö –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å
- üí° **LED Flashlight** (0x0BBA) - –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤–±—É–¥–æ–≤–∞–Ω–∏–º –ª—ñ—Ö—Ç–∞—Ä–∏–∫–æ–º (Low/High/SOS/Off)
- ‚è∞ **ECO Shutdown Timer** (0x0BC4) - —Ç–∞–π–º–µ—Ä –∞–≤—Ç–æ–≤–∏–º–∫–Ω–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 1/2/3/4 –≥–æ–¥–∏–Ω–∏
- üî¥ **Power Off** (0x0BBC) - –ø–æ–≤–Ω–µ –≤–∏–º–∫–Ω–µ–Ω–Ω—è Bluetti

#### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- **MQTT Discovery**: 12 entities (–±—É–ª–æ 7, –¥–æ–¥–∞–Ω–æ 5 –Ω–æ–≤–∏—Ö)
  - switch.bluetti_eco_mode
  - switch.bluetti_power_lifting
  - select.bluetti_led_mode
  - select.bluetti_eco_shutdown
  - button.bluetti_power_off
- **HTTP API**: 5 –Ω–æ–≤–∏—Ö endpoints
  - POST /eco_mode?state=on|off
  - POST /power_lifting?state=on|off
  - POST /led_mode?mode=1-4
  - POST /eco_shutdown?hours=1-4
  - POST /power_off
- **Web UI**: –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–Ω–æ–ø–∫–∏ —Ç–∞ select-–º–µ–Ω—é
  - –ü–æ–∫–∞–∑—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ –¥–æ Bluetti
  - ECO/Power Lifting - toggle –∫–Ω–æ–ø–∫–∏
  - LED/ECO Timer - dropdown —Å–µ–ª–µ–∫—Ç–æ—Ä–∏

#### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ
- Polling: —Ä–æ—Ç–∞—Ü—ñ–π–Ω–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è 4 –Ω–æ–≤–∏—Ö —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ –∫–æ–∂–Ω—ñ 30 —Å–µ–∫
- Flash: 95.1% (–¥–æ–¥–∞–Ω–æ +0.4% —á–µ—Ä–µ–∑ –Ω–æ–≤–∏–π UI)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: [NEW_FEATURES.md](NEW_FEATURES.md)

---

## [1.1.0] - 2025-12-08

### ‚ú® –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–ª—ñ–∑

–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –ø—Ä–æ—à–∏–≤–∫–∞ –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Bluetti EB3A –¥–æ Home Assistant —á–µ—Ä–µ–∑ ESP32.

### –î–æ–¥–∞–Ω–æ

#### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- üì± –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Bluetti EB3A —á–µ—Ä–µ–∑ Bluetooth Low Energy (NimBLE)
- üîå –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø–æ MAC –∞–¥—Ä–µ—Å—ñ (—à–≤–∏–¥—à–µ –Ω—ñ–∂ –ø–æ —ñ–º–µ–Ω—ñ)
- üì° –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Home Assistant —á–µ—Ä–µ–∑ MQTT
- üîÑ MQTT Discovery –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
- üìä –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –Ω–∞ TFT –¥–∏—Å–ø–ª–µ—ó 1.14" (ST7789)
- üîò **–ö–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∏—Å–ø–ª–µ—î–º –∫–Ω–æ–ø–∫–∞–º–∏** - –∞–≤—Ç–æ–≤–∏–º–∫–Ω–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
- üîã **–ï–∫–æ–Ω–æ–º—ñ—è –µ–Ω–µ—Ä–≥—ñ—ó** - –¥–∏—Å–ø–ª–µ–π –≤–∏–º–∏–∫–∞—î—Ç—å—Å—è –∫–æ–ª–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω

#### –§—É–Ω–∫—Ü—ñ—ó –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è/–≤–∏–º–∫–Ω–µ–Ω–Ω—è AC –≤–∏—Ö–æ–¥—É
- –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è/–≤–∏–º–∫–Ω–µ–Ω–Ω—è DC –≤–∏—Ö–æ–¥—É
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä—ñ–≤–Ω—è –±–∞—Ç–∞—Ä–µ—ó (%)
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ AC (W)
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ DC (W)
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤—Ö—ñ–¥–Ω–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –∑–∞—Ä—è–¥—É (W)
- üì° **OTA (Over-The-Air) –æ–Ω–æ–≤–ª–µ–Ω–Ω—è** - –ø—Ä–æ—à–∏–≤–∫–∞ —á–µ—Ä–µ–∑ WiFi
- üîò **–ö–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∏—Å–ø–ª–µ—î–º –∫–Ω–æ–ø–∫–∞–º–∏** - –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∫–Ω–µ–Ω–Ω—è

#### –ê–ø–∞—Ä–∞—Ç–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
- LILYGO T-Display ESP32 (16MB Flash)
- ST7789 –¥–∏—Å–ø–ª–µ–π 135x240 –ø—ñ–∫—Å–µ–ª—ñ–≤
- CH9102F USB-UART —á—ñ–ø
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ WiFi 2.4GHz

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- `README.md` - –ü–æ–≤–Ω–∏–π –æ–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É
- `QUICKSTART.md` - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –∑–∞ 3 —Ö–≤–∏–ª–∏–Ω–∏
- `SETUP_GUIDE.md` - –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- `TROUBLESHOOTING.md` - –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º
- `ARCHITECTURE.md` - –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏
- `HOME_ASSISTANT_EXAMPLES.md` - –ü—Ä–∏–∫–ª–∞–¥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ–π

#### –¢–µ—Ö–Ω—ñ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
- –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (3 –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –∫–ª–∞—Å–∏)
- `BluettiDevice` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è BLE –∑'—î–¥–Ω–∞–Ω–Ω—è–º
- `MQTTHandler` - –æ–±—Ä–æ–±–∫–∞ MQTT —Ç–∞ Home Assistant
- `DisplayManager` - –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–∞ TFT –¥–∏—Å–ø–ª–µ—ó
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø—Ä–∏ –≤—Ç—Ä–∞—Ç—ñ –∑–≤'—è–∑–∫—É
- –ü–µ—Ä—ñ–æ–¥–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö (–∫–æ–∂–Ω—ñ 10 —Å–µ–∫—É–Ω–¥)
- –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –≤ MQTT (–∫–æ–∂–Ω—ñ 5 —Å–µ–∫—É–Ω–¥)

#### –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
- NimBLE-Arduino 1.4.1 - Bluetooth Low Energy
- TFT_eSPI 2.5.43 - –î—Ä–∞–π–≤–µ—Ä –¥–∏—Å–ø–ª–µ—é
- PubSubClient 2.8 - MQTT –∫–ª—ñ—î–Ω—Ç
- ArduinoJson 7.0.4 - JSON –ø–∞—Ä—Å–∏–Ω–≥
- ArduinoOTA 1.0 - OTA –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ WiFi üÜï

### –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

#### –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–∞–¥ –∞–¥–¥–æ–Ω–æ–º Home Assistant
- ‚úÖ –ù–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂—É—î Home Assistant
- ‚úÖ –°—Ç–∞–±—ñ–ª—å–Ω—ñ—à–µ BLE –∑'—î–¥–Ω–∞–Ω–Ω—è (ESP32 –ø–æ—Ä—É—á –∑ Bluetti)
- ‚úÖ –í—ñ–∑—É–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å –Ω–∞ –¥–∏—Å–ø–ª–µ—ó
- ‚úÖ –®–≤–∏–¥—à–∏–π –≤—ñ–¥–≥—É–∫ –Ω–∞ –∫–æ–º–∞–Ω–¥–∏
- ‚úÖ –ê–≤—Ç–æ–Ω–æ–º–Ω–∞ —Ä–æ–±–æ—Ç–∞

#### Home Assistant Integration
- –ü–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ MQTT Discovery
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è entities:
  - `sensor.bluetti_eb3a_battery`
  - `sensor.bluetti_eb3a_ac_power`
  - `switch.bluetti_eb3a_ac_output`
  - `switch.bluetti_eb3a_dc_output`
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Energy Dashboard
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ–π

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

```cpp
// WiFi
WIFI_SSID
WIFI_PASSWORD

// MQTT  
MQTT_SERVER (IP Home Assistant)
MQTT_PORT (1883)
MQTT_USER (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
MQTT_PASSWORD (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

// Bluetti
BLUETTI_NAME ("EB3A")
BLUETTI_MAC ("D1:4C:11:6B:6A:3D")
USE_MAC_ADDRESS (true/false)
```

### –í—ñ–¥–æ–º—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è

1. **–ü—Ä–æ—Ç–æ–∫–æ–ª Bluetti** - –±–∞–∑–æ–≤–∞ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—è, –º–æ–∂–µ –ø–æ—Ç—Ä–µ–±—É–≤–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
2. **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–æ–¥–µ–ª–µ–π** - —Ç–µ—Å—Ç–æ–≤–∞–Ω–æ —Ç—ñ–ª—å–∫–∏ –Ω–∞ EB3A
3. ~~**OTA** - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—à–∏–≤–∫–∏ —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ USB~~ ‚úÖ **–î–æ–¥–∞–Ω–æ OTA!**

### –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å

#### –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –Ω–∞:
- Home Assistant OS 16.3
- Home Assistant Core 2025.11.3
- Bluetti EB3A (—Ä—ñ–∑–Ω—ñ –≤–µ—Ä—Å—ñ—ó –ø—Ä–æ—à–∏–≤–∫–∏)
- LILYGO T-Display ESP32

#### –í–∏–º–æ–≥–∏:
- Home Assistant –∑ MQTT —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é
- Mosquitto MQTT Broker
- WiFi 2.4GHz –º–µ—Ä–µ–∂–∞
- PlatformIO Core 6.0+

---

## [–ü–ª–∞–Ω—É—î—Ç—å—Å—è] - –ú–∞–π–±—É—Ç–Ω—ñ –≤–µ—Ä—Å—ñ—ó

### üîÆ –í–µ—Ä—Å—ñ—è 1.1.0 (–ø–ª–∞–Ω—É—î—Ç—å—Å—è)

#### –ü–ª–∞–Ω—É—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∏:
- ~~[ ] OTA –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ WiFi~~ ‚úÖ **–ì–æ—Ç–æ–≤–æ!**
- [ ] Web —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- [ ] –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –≤ EEPROM/SPIFFS
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫—ñ–ª—å–∫–æ—Ö Bluetti –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
- [ ] TLS/SSL –¥–ª—è MQTT
- [ ] –†–æ–∑—à–∏—Ä–µ–Ω–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª Bluetti (–±—ñ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤)

#### –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è:
- [ ] –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó
- [ ] –ö—Ä–∞—â–∏–π UI –Ω–∞ –¥–∏—Å–ø–ª–µ—ó (–≥—Ä–∞—Ñ—ñ–∫–∏)
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫–Ω–æ–ø–æ–∫ T-Display
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —è—Å–∫—Ä–∞–≤–æ—Å—Ç—ñ –¥–∏—Å–ø–ª–µ—é
- [ ] Sleep mode –ø—Ä–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

#### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–¥–µ–ª—ñ:
- [ ] Bluetti AC200P
- [ ] Bluetti AC300
- [ ] Bluetti EB70
- [ ] Bluetti EB55

### üéØ –í–µ—Ä—Å—ñ—è 1.2.0 (–ø–ª–∞–Ω—É—î—Ç—å—Å—è)

- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ ESPHome (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –ø—Ä–æ—à–∏–≤–∫–∞)
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Grafana
- [ ] InfluxDB –ª–æ–≥—É–≤–∞–Ω–Ω—è
- [ ] –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –Ω–∞ Telegram
- [ ] REST API –¥–ª—è —Å—Ç–æ—Ä–æ–Ω–Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø—É

---

## –Ø–∫ –æ–Ω–æ–≤–∏—Ç–∏

### –ó –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó:

```bash
cd ~/Documents/esp32
git pull  # —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è git
pio run --target upload
```

### –ß–∏—Å—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞:

–î–∏–≤—ñ—Ç—å—Å—è `QUICKSTART.md`

---

## –ö–æ–Ω—Ç–∞–∫—Ç–∏

**–ü–∏—Ç–∞–Ω–Ω—è —Ç–∞ –ø—Ä–æ–±–ª–µ–º–∏:**
- GitHub Issues
- Home Assistant Community Forum

**–í–Ω–µ—Å–æ–∫ –≤ –ø—Ä–æ–µ–∫—Ç:**
- Pull Requests –≤—ñ—Ç–∞—é—Ç—å—Å—è!
- –î–∏–≤—ñ—Ç—å—Å—è TODO.md –¥–ª—è –∑–∞–≤–¥–∞–Ω—å

---

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤—ñ–ª—å–Ω–æ!

---

**–í–µ—Ä—Å—ñ—è:** 1.0.0  
**–î–∞—Ç–∞:** 23 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025 —Ä.  
**–ê–≤—Ç–æ—Ä:** Bluetti EB3A Bridge Project  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** LILYGO T-Display ESP32 (16MB)
