# Bluetti EB3A Bridge –¥–ª—è Home Assistant

–ü—Ä–æ—à–∏–≤–∫–∞ –¥–ª—è LILYGO T-Display ESP32 (16MB) –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Bluetti EB3A –¥–æ Home Assistant —á–µ—Ä–µ–∑ MQTT.

**üéØ –î–ª—è —á–æ–≥–æ —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ?**

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —Å—Ç–≤–æ—Ä—é—î **–æ–∫—Ä–µ–º–∏–π –º—ñ—Å—Ç** –º—ñ–∂ Bluetti EB3A —Ç–∞ Home Assistant —á–µ—Ä–µ–∑ ESP32. –¶–µ –∫—Ä–∞—â–µ –Ω—ñ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∞–¥–¥–æ–Ω—É "Bluetti to MQTT" –≤ Home Assistant, —Ç–æ–º—É —â–æ:

- ‚úÖ **–ù–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂—É—î Home Assistant** - ESP32 –ø—Ä–∞—Ü—é—î –Ω–µ–∑–∞–ª–µ–∂–Ω–æ
- ‚úÖ **–ö—Ä–∞—â–µ Bluetooth –∑'—î–¥–Ω–∞–Ω–Ω—è** - ESP32 –º–æ–∂–Ω–∞ —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –±–ª–∏–∑—å–∫–æ –¥–æ Bluetti
- ‚úÖ **–í—ñ–∑—É–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å** - –¥–∏—Å–ø–ª–µ–π 1.14" –ø–æ–∫–∞–∑—É—î –≤—Å—ñ –¥–∞–Ω—ñ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- ‚úÖ **–®–≤–∏–¥—à–µ –≤—ñ–¥–≥—É–∫** - –ø—Ä—è–º–∏–π –∑–≤'—è–∑–æ–∫ –±–µ–∑ –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –ª–∞–Ω–æ–∫

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û:** –í–∏–º–∫–Ω—ñ—Ç—å –∞–¥–¥–æ–Ω "Bluetti to MQTT" –≤ Home Assistant –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º ESP32, —ñ–Ω–∞–∫—à–µ –±—É–¥—É—Ç—å –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∏ Bluetooth!

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üì± –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Bluetti EB3A —á–µ—Ä–µ–∑ Bluetooth Low Energy (BLE)
- üè† –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Home Assistant —á–µ—Ä–µ–∑ MQTT
- üìä –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –Ω–∞ 1.14" TFT –¥–∏—Å–ø–ª–µ—ó
- üîå –ö–µ—Ä—É–≤–∞–Ω–Ω—è AC —Ç–∞ DC –≤–∏—Ö–æ–¥–∞–º–∏
- ‚ö° –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä—ñ–≤–Ω—è –±–∞—Ç–∞—Ä–µ—ó, –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –≤—Ö–æ–¥—É/–≤–∏—Ö–æ–¥—É
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –≤ Home Assistant (MQTT Discovery)

## –ê–ø–∞—Ä–∞—Ç–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞

- **–ü–ª–∞—Ç–∞:** LILYGO T-Display ESP32 (16MB Flash)
- **–î–∏—Å–ø–ª–µ–π:** ST7789 1.14" 135x240 –ø—ñ–∫—Å–µ–ª—ñ–≤
- **USB-UART:** CH9102F
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞:** Bluetti EB3A —á–µ—Ä–µ–∑ BLE

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å PlatformIO

–Ø–∫—â–æ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å [PlatformIO IDE](https://platformio.org/install) –∞–±–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –¥–ª—è VS Code.

### 2. –ö–ª–æ–Ω—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
cd ~/Documents/esp32
```

### 3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ WiFi —Ç–∞ MQTT

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `src/main.cpp` —ñ –≤–∫–∞–∂—ñ—Ç—å —Å–≤–æ—ó –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

```cpp
// WiFi credentials
const char* WIFI_SSID = "Robinson WiFi";
const char* WIFI_PASSWORD = "0504479307qw";

// MQTT settings
const char* MQTT_SERVER = "YOUR_MQTT_SERVER_IP";  // IP –∞–¥—Ä–µ—Å–∞ Home Assistant
const int MQTT_PORT = 1883;
const char* MQTT_USER = "YOUR_MQTT_USER";         // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
const char* MQTT_PASSWORD = "YOUR_MQTT_PASSWORD"; // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ

// Bluetti settings
const char* BLUETTI_MAC = "D1:4C:11:6B:6A:3D"; // –í–∞—à–∞ MAC –∞–¥—Ä–µ—Å–∞
const bool USE_MAC_ADDRESS = true;             // true = –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø–æ MAC (—à–≤–∏–¥—à–µ)
```

üí° **–Ø–∫ –¥—ñ–∑–Ω–∞—Ç–∏—Å—å MAC –∞–¥—Ä–µ—Å—É Bluetti?**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∞–¥–¥–æ–Ω "Bluetti to MQTT" (–≤ –ª–æ–≥–∞—Ö –±—É–¥–µ MAC)
- –ê–±–æ BLE —Å–∫–∞–Ω–µ—Ä –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ñ (nRF Connect)

### 4. –í–ê–ñ–õ–ò–í–û: –í–∏–º–∫–Ω—ñ—Ç—å –∞–¥–¥–æ–Ω Home Assistant

–ü–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –ø—Ä–æ—à–∏–≤–∫–∏ **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ –≤–∏–º–∫–Ω—ñ—Ç—å** –∞–¥–¥–æ–Ω "Bluetti to MQTT" –≤ Home Assistant:

1. Settings ‚Üí Add-ons ‚Üí Bluetti to MQTT
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Stop**
3. –í–∏–º–∫–Ω—ñ—Ç—å **Start on boot**

‚ö†Ô∏è –î–≤–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó –Ω–µ –º–æ–∂—É—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏—Å—å –¥–æ Bluetti!

### –®–≤–∏–¥–∫—ñ –∫–æ–º–∞–Ω–¥–∏

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Makefile (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

```bash
# –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
make help

# –ü–µ—Ä—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (USB)
make upload       # –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —á–µ—Ä–µ–∑ USB

# –ù–∞—Å—Ç—É–ø–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (WiFi) üÜï
make ota          # OTA —á–µ—Ä–µ–∑ WiFi (–∞–≤—Ç–æ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è)
make ota IP=192.168.1.100  # OTA –∑–∞ IP

# –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
make check        # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
make config       # –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
make full         # –ó—ñ–±—Ä–∞—Ç–∏, –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —ñ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä

# –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
make build        # –ó—ñ–±—Ä–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç
make upload       # –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –Ω–∞ ESP32
make monitor      # –í—ñ–¥–∫—Ä–∏—Ç–∏ Serial Monitor

# –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
make devices      # –ü–æ–∫–∞–∑–∞—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó
make test         # –¢–µ—Å—Ç MQTT –∑'—î–¥–Ω–∞–Ω–Ω—è
make info         # –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ–µ–∫—Ç
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Fish —Å–∫—Ä–∏–ø—Ç–∞

```bash
# –ó—Ä–æ–±–∏—Ç–∏ –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º (–æ–¥–∏–Ω —Ä–∞–∑)
chmod +x commands.fish

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
./commands.fish help
./commands.fish upload      # USB
./commands.fish ota         # WiFi OTA üÜï
./commands.fish ota 192.168.1.100  # OTA –∑–∞ IP
./commands.fish full
./commands.fish monitor
```

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ PlatformIO –∫–æ–º–∞–Ω–¥–∏

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ PlatformIO –∫–æ–º–∞–Ω–¥–∏

```bash
cd ~/Documents/esp32

# –ü–µ—Ä—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (USB)
pio run --target upload

# OTA –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (WiFi) üÜï
pio run --target upload --upload-port ESP32-Bluetti-EB3A.local
# –∞–±–æ –∑–∞ IP
pio run --target upload --upload-port 192.168.1.100
```

–∞–±–æ —á–µ—Ä–µ–∑ VS Code: `PlatformIO: Upload`

### 6. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```bash
pio device monitor
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Home Assistant

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è (MQTT Discovery)

–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è ESP32 –¥–æ MQTT, Home Assistant –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—è–≤–∏—Ç—å —Ç–∞–∫—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó:

1. **–°–µ–Ω—Å–æ—Ä –±–∞—Ç–∞—Ä–µ—ó** - `sensor.bluetti_eb3a_battery`
2. **–í–∏–º–∏–∫–∞—á AC –≤–∏—Ö–æ–¥—É** - `switch.bluetti_eb3a_ac_output`
3. **–í–∏–º–∏–∫–∞—á DC –≤–∏—Ö–æ–¥—É** - `switch.bluetti_eb3a_dc_output`
4. **–°–µ–Ω—Å–æ—Ä –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ AC** - `sensor.bluetti_eb3a_ac_power`

### MQTT Topics

#### –°—Ç–∞–Ω (–ø—É–±–ª—ñ–∫—É—î—Ç—å—Å—è ESP32)
- `homeassistant/bluetti/eb3a/state` - JSON –∑ –ø–æ–≤–Ω–∏–º —Å—Ç–∞–Ω–æ–º
- `homeassistant/bluetti/eb3a/battery` - –†—ñ–≤–µ–Ω—å –±–∞—Ç–∞—Ä–µ—ó (%)
- `homeassistant/bluetti/eb3a/ac_power` - –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å AC (W)
- `homeassistant/bluetti/eb3a/ac_output/state` - –°—Ç–∞–Ω AC –≤–∏—Ö–æ–¥—É (ON/OFF)
- `homeassistant/bluetti/eb3a/dc_output/state` - –°—Ç–∞–Ω DC –≤–∏—Ö–æ–¥—É (ON/OFF)

#### –ö–æ–º–∞–Ω–¥–∏ (–ø—ñ–¥–ø–∏—Å–∫–∞ ESP32)
- `homeassistant/bluetti/eb3a/ac_output/set` - –ö–µ—Ä—É–≤–∞–Ω–Ω—è AC (ON/OFF)
- `homeassistant/bluetti/eb3a/dc_output/set` - –ö–µ—Ä—É–≤–∞–Ω–Ω—è DC (ON/OFF)

### –ü—Ä–∏–∫–ª–∞–¥ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó

```yaml
automation:
  - alias: "–£–≤—ñ–º–∫–Ω—É—Ç–∏ Bluetti AC –≤–Ω–æ—á—ñ"
    trigger:
      - platform: time
        at: "22:00:00"
    action:
      - service: switch.turn_on
        target:
          entity_id: switch.bluetti_eb3a_ac_output

  - alias: "–í–∏–º–∫–Ω—É—Ç–∏ Bluetti AC –≤—Ä–∞–Ω—Ü—ñ"
    trigger:
      - platform: time
        at: "07:00:00"
    action:
      - service: switch.turn_off
        target:
          entity_id: switch.bluetti_eb3a_ac_output
```

### –ü—Ä–∏–∫–ª–∞–¥ –∫–∞—Ä—Ç–∫–∏ Lovelace

```yaml
type: entities
entities:
  - entity: sensor.bluetti_eb3a_battery
  - entity: sensor.bluetti_eb3a_ac_power
  - entity: switch.bluetti_eb3a_ac_output
  - entity: switch.bluetti_eb3a_dc_output
title: Bluetti EB3A
show_header_toggle: false
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
esp32/
‚îú‚îÄ‚îÄ platformio.ini           # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è PlatformIO
‚îú‚îÄ‚îÄ default_16MB.csv         # Partition table –¥–ª—è 16MB
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îú‚îÄ‚îÄ bluetti_device.h     # Bluetooth –∫–ª–∞—Å –¥–ª—è Bluetti
‚îÇ   ‚îú‚îÄ‚îÄ mqtt_handler.h       # MQTT —Ç–∞ Home Assistant —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
‚îÇ   ‚îî‚îÄ‚îÄ display_manager.h    # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è TFT –¥–∏—Å–ø–ª–µ—î–º
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp             # –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ bluetti_device.cpp
‚îÇ   ‚îú‚îÄ‚îÄ mqtt_handler.cpp
‚îÇ   ‚îî‚îÄ‚îÄ display_manager.cpp
‚îî‚îÄ‚îÄ README.md
```

## –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –Ω–∞ –¥–∏—Å–ø–ª–µ—ó

### –ö–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∏—Å–ø–ª–µ—î–º

**–î–∏—Å–ø–ª–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–º–∏–∫–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥** –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó –µ–Ω–µ—Ä–≥—ñ—ó.

**–ö–Ω–æ–ø–∫–∏ T-Display:**
- **–ö–Ω–æ–ø–∫–∞ 1** (–≤–µ—Ä—Ö–Ω—è, GPIO 35) - —É–≤—ñ–º–∫–Ω—É—Ç–∏ –¥–∏—Å–ø–ª–µ–π
- **–ö–Ω–æ–ø–∫–∞ 2** (–Ω–∏–∂–Ω—è, GPIO 0) - —É–≤—ñ–º–∫–Ω—É—Ç–∏ –¥–∏—Å–ø–ª–µ–π

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –±—É–¥—å-—è–∫—É –∫–Ω–æ–ø–∫—É —â–æ–±:
- ‚úÖ –£–≤—ñ–º–∫–Ω—É—Ç–∏ –¥–∏—Å–ø–ª–µ–π –Ω–∞ 10 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ü–æ–¥–æ–≤–∂–∏—Ç–∏ —á–∞—Å —Ä–æ–±–æ—Ç–∏ (—è–∫—â–æ –≤–∂–µ —É–≤—ñ–º–∫–Ω–µ–Ω–æ)

### –©–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è:

- üîã –†—ñ–≤–µ–Ω—å –±–∞—Ç–∞—Ä–µ—ó (% —ñ –≥—Ä–∞—Ñ—ñ—á–Ω–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä)
- ‚ö° –°—Ç–∞–Ω AC –≤–∏—Ö–æ–¥—É (ON/OFF) —Ç–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å
- üîå –°—Ç–∞–Ω DC –≤–∏—Ö–æ–¥—É (ON/OFF) —Ç–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å
- üîÑ –í—Ö—ñ–¥–Ω–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –∑–∞—Ä—è–¥—É

## –£—Å—É–Ω–µ–Ω–Ω—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ù–µ –≤–¥–∞—î—Ç—å—Å—è –∑–Ω–∞–π—Ç–∏ Bluetti EB3A

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ EB3A —É–≤—ñ–º–∫–Ω–µ–Ω–æ
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ Bluetooth —É–≤—ñ–º–∫–Ω–µ–Ω–æ –Ω–∞ EB3A
3. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ —ñ–º'—è –ø—Ä–∏—Å—Ç—Ä–æ—é –≤ –∫–æ–¥—ñ (–º–æ–∂–µ –±—É—Ç–∏ "BLUETTI EB3A" –∑–∞–º—ñ—Å—Ç—å "EB3A")

### –ù–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ WiFi

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ SSID —Ç–∞ –ø–∞—Ä–æ–ª—å
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ ESP32 –≤ –∑–æ–Ω—ñ –¥—ñ—ó WiFi
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —á–µ—Ä–µ–∑ Serial Monitor

### Home Assistant –Ω–µ –±–∞—á–∏—Ç—å –ø—Ä–∏—Å—Ç—Ä–æ—ó

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ MQTT –±—Ä–æ–∫–µ—Ä –ø—Ä–∞—Ü—é—î
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ MQTT Discovery —É–≤—ñ–º–∫–Ω–µ–Ω–æ –≤ Home Assistant
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ MQTT –≤ Home Assistant

### –ü–æ–º–∏–ª–∫–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—É Bluetti

**–í–ê–ñ–õ–ò–í–û:** –ü—Ä–æ—Ç–æ–∫–æ–ª Bluetti –º–æ–∂–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—å –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–µ—Ä—Å—ñ—ó –ø—Ä–æ—à–∏–≤–∫–∏. –¶–µ–π –∫–æ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –±–∞–∑–æ–≤—É —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—é. –ú–æ–∂–ª–∏–≤–æ, –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏:

- UUID —Å–µ—Ä–≤—ñ—Å—ñ–≤ —Ç–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- –§–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥ (–≤ `bluetti_device.cpp`)
- –ü–∞—Ä—Å–∏–Ω–≥ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π (—Ñ—É–Ω–∫—Ü—ñ—è `parseNotification`)

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–æ–∑–±–æ—Ä—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:
- [Bluetti MQTT –ø—Ä–æ–µ–∫—Ç](https://github.com/warhammerkid/bluetti_mqtt)
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ BLE —Å–∫–∞–Ω–µ—Ä –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ñ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É

## –ü–æ–¥—è–∫–∏

–ë–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª—ñ –≤—ñ–¥ —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ Bluetti —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–∞—Ö —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Home Assistant.

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

## –ê–≤—Ç–æ—Ä

–°—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è Bluetti EB3A —á–µ—Ä–µ–∑ Home Assistant
