# üîå –í—ñ–¥–¥–∞–ª–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ—à–∏–≤–∫–∏ —á–µ—Ä–µ–∑ SSH

## –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ 11.18.10.40

### –í–∞—Ä—ñ–∞–Ω—Ç 1: SSH —Ç—É–Ω–µ–ª—å –¥–ª—è —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –ø–æ—Ä—Ç—É (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–¶–µ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± - —Å—Ç–≤–æ—Ä—é—î–º–æ SSH —Ç—É–Ω–µ–ª—å –¥–ª—è —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –ø–æ—Ä—Ç—É ESP32.

#### –ö—Ä–æ–∫ 1: –ó–Ω–∞–π–¥—ñ—Ç—å —Å–µ—Ä—ñ–π–Ω–∏–π –ø–æ—Ä—Ç –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ

–ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ —ñ –∑–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ä—Ç ESP32:

```bash
ssh user@11.18.10.40
# –ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:
ls /dev/ttyUSB* /dev/ttyACM* /dev/ttyS*
# –ê–±–æ
dmesg | grep tty
```

**–ü—Ä–∏–∫–ª–∞–¥:** `/dev/ttyUSB0` –∞–±–æ `/dev/ttyACM0`

#### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä—ñ—Ç—å SSH —Ç—É–Ω–µ–ª—å

–ù–∞ **–≤–∞—à–æ–º—É –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ**:

```bash
# –°—Ç–≤–æ—Ä—é—î–º–æ SSH —Ç—É–Ω–µ–ª—å –¥–ª—è —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –ø–æ—Ä—Ç—É
ssh -L /dev/ttyUSB_REMOTE:/dev/ttyUSB0 user@11.18.10.40 -N

# –ê–±–æ —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ socat (–ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏):
ssh -L 9999:/dev/ttyUSB0 user@11.18.10.40 -N &
socat -d -d pty,link=/dev/ttyUSB_REMOTE,raw,echo=0 tcp:localhost:9999
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (—á–µ—Ä–µ–∑ socat –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ):**

–ù–∞ **–≤—ñ–¥–¥–∞–ª–µ–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ** (11.18.10.40):
```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å socat —è–∫—â–æ –Ω–µ–º–∞—î
sudo apt-get install socat

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å socat —Å–µ—Ä–≤–µ—Ä
socat -d -d pty,link=/tmp/esp32,raw,echo=0,waitslave tcp-listen:9999,reuseaddr
```

–ù–∞ **–≤–∞—à–æ–º—É –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ**:
```bash
# SSH —Ç—É–Ω–µ–ª—å
ssh -L 9999:localhost:9999 user@11.18.10.40 -N &

# –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ socat
socat -d -d pty,link=/dev/ttyUSB_REMOTE,raw,echo=0 tcp:localhost:9999
```

#### –ö—Ä–æ–∫ 3: –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –ø—Ä–æ—à–∏–≤–∫—É

```bash
cd /home/kekcick/Documents/esp32
pio run --target upload --upload-port /dev/ttyUSB_REMOTE
```

---

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –í–∏–∫–æ–Ω–∞–Ω–Ω—è PlatformIO –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ

–Ø–∫—â–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ PlatformIO, –º–æ–∂–Ω–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞–º.

#### –ö—Ä–æ–∫ 1: –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–π—Ç–µ –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –í–∞—Ä—ñ–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ rsync (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
rsync -avz --exclude '.pio' --exclude '.git' \
  /home/kekcick/Documents/esp32/ \
  user@11.18.10.40:~/esp32/

# –í–∞—Ä—ñ–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ git (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ git)
ssh user@11.18.10.40 "cd ~/esp32 && git pull"

# –í–∞—Ä—ñ–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ scp
scp -r /home/kekcick/Documents/esp32 user@11.18.10.40:~/
```

#### –ö—Ä–æ–∫ 2: –í–∏–∫–æ–Ω–∞–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

```bash
ssh user@11.18.10.40
cd ~/esp32
pio run --target upload
```

---

### –í–∞—Ä—ñ–∞–Ω—Ç 3: SSH –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `~/.ssh/config`:

```ssh-config
Host esp32-server
    HostName 11.18.10.40
    User your_username
    # –î–æ–¥–∞–π—Ç–µ –∫–ª—é—á —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ
    IdentityFile ~/.ssh/id_rsa
    
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ç—É–Ω–µ–ª—å –¥–ª—è —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –ø–æ—Ä—Ç—É
    LocalForward 9999 localhost:9999
```

–¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞ –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏—Å—è –ø—Ä–æ—Å—Ç–æ:
```bash
ssh esp32-server
```

---

### –í–∞—Ä—ñ–∞–Ω—Ç 4: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è PlatformIO Remote

PlatformIO –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—ñ–¥–¥–∞–ª–µ–Ω—É —Ä–æ–∑—Ä–æ–±–∫—É —á–µ—Ä–µ–∑ SSH.

#### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `platformio.ini`:

```ini
[env:lilygo-t-display]
platform = espressif32
board = esp32dev
framework = arduino

; –í—ñ–¥–¥–∞–ª–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
upload_port = ssh://user@11.18.10.40:/dev/ttyUSB0
monitor_port = ssh://user@11.18.10.40:/dev/ttyUSB0
```

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –¶–µ –º–æ–∂–µ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞–ø—Ä—è–º—É, —Ç–æ–º—É –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ SSH —Ç—É–Ω–µ–ª—å.

---

## –®–≤–∏–¥–∫–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `remote_upload.sh`:

```bash
#!/bin/bash

SERVER="11.18.10.40"
USER="your_username"
REMOTE_PORT="/dev/ttyUSB0"  # –ó–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à –ø–æ—Ä—Ç
LOCAL_PORT="/dev/ttyUSB_REMOTE"

echo "üîå –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ $SERVER..."

# –°—Ç–≤–æ—Ä—é—î–º–æ SSH —Ç—É–Ω–µ–ª—å
ssh -L 9999:$REMOTE_PORT $USER@$SERVER -N &
SSH_PID=$!

# –ß–µ–∫–∞—î–º–æ –ø–æ–∫–∏ —Ç—É–Ω–µ–ª—å –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è
sleep 2

# –°—Ç–≤–æ—Ä—é—î–º–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π –ø–æ—Ä—Ç
socat -d -d pty,link=$LOCAL_PORT,raw,echo=0 tcp:localhost:9999 &
SOCAT_PID=$!

sleep 2

echo "üì§ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ—à–∏–≤–∫–∏..."
cd /home/kekcick/Documents/esp32
pio run --target upload --upload-port $LOCAL_PORT

# –ó—É–ø–∏–Ω—è—î–º–æ –ø—Ä–æ—Ü–µ—Å–∏
kill $SSH_PID $SOCAT_PID 2>/dev/null

echo "‚úÖ –ì–æ—Ç–æ–≤–æ!"
```

–ó—Ä–æ–±—ñ—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º:
```bash
chmod +x remote_upload.sh
./remote_upload.sh
```

---

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –ø–æ—Ä—Ç—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ:

```bash
ssh user@11.18.10.40 "ls -la /dev/ttyUSB* /dev/ttyACM*"
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–æ—Ä—Ç—É:

```bash
ssh user@11.18.10.40 "dmesg | tail -20"
```

### –¢–µ—Å—Ç —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –∑'—î–¥–Ω–∞–Ω–Ω—è:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ
ssh user@11.18.10.40 "stty -F /dev/ttyUSB0 115200 && cat /dev/ttyUSB0"
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ SSH –∫–ª—é—á—ñ** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤—Ö–æ–¥—É:
   ```bash
   ssh-copy-id user@11.18.10.40
   ```

2. **–î–æ–¥–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –¥–æ SSH config** –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ

3. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ tmux/screen** –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ:
   ```bash
   ssh user@11.18.10.40
   tmux new -s esp32
   # –í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥–∏ –≤ tmux
   ```

4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É** –¥–æ —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –ø–æ—Ä—Ç—É:
   ```bash
   ssh user@11.18.10.40 "sudo usermod -a -G dialout $USER"
   ```

---

## –Ø–∫—â–æ –Ω–µ –ø—Ä–∞—Ü—é—î

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied" –¥–ª—è /dev/ttyUSB0

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
ssh user@11.18.10.40
sudo usermod -a -G dialout $USER
# –ü–µ—Ä–µ–∑–∞–π–¥—ñ—Ç—å –≤ SSH —Å–µ—Å—ñ—é
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —è–∫–∏–π –ø–æ—Ä—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î ESP32
ssh user@11.18.10.40 "dmesg | grep -i usb"
ssh user@11.18.10.40 "ls -la /dev/tty* | grep -E 'USB|ACM'"
```

### –ü—Ä–æ–±–ª–µ–º–∞: SSH —Ç—É–Ω–µ–ª—å –Ω–µ –ø—Ä–∞—Ü—é—î

**–†—ñ—à–µ–Ω–Ω—è:**
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –ø–æ—Ä—Ç –Ω–µ –∑–∞–π–Ω—è—Ç–∏–π: `netstat -an | grep 9999`
- –°–ø—Ä–æ–±—É–π—Ç–µ —ñ–Ω—à–∏–π –ø–æ—Ä—Ç: `ssh -L 9998:/dev/ttyUSB0 ...`

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—à–∏–≤–∞—Ç–∏ ESP32 –≤—ñ–¥–¥–∞–ª–µ–Ω–æ!** üöÄ

